vector<vector<int>>adj;
int N;
vector<int>toLeaf;
vector<int>maxLength;

void dfs(int node, int par){
  for(auto x: adj[node]){
    if(x!=par){
      dfs(x,node);
      toLeaf[node]=max(toLeaf[x]+1,toLeaf[node]);
    }
  }
  
  int max1=0,max2=0;
  for(auto x: adj[node]){
    if(x!=par){
        if(toLeaf[x]+1>max1){max2=max1; max1=toLeaf[x]+1;} 
        else if(toLeaf[x]+1<= max1 && toLeaf[x]+1>max2) max2=toLeaf[x]+1;
    }
  }
  maxLength[node]=max1+max2;
}
